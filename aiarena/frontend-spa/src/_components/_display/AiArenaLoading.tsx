type SpinnerProps = {
  size?: number; // px
  text?: string;
  speedMs?: number;
  className?: string;
};

export default function AiArenaLoading({
  size = 160,
  text,
  speedMs = 3000,
  className = "",
}: SpinnerProps) {
  return (
    <div className="flex flex-col items-center">
      <div
        className={className}
        style={{
          width: size,
          height: size,
          position: "relative",
          display: "inline-grid",
          placeItems: "center",
        }}
        aria-label={text}
        role="status"
      >
        <svg
          width={size}
          height={size}
          viewBox="0 0 379 326"
          preserveAspectRatio="xMidYMid meet"
          style={{
            position: "absolute",
            inset: 0,
            overflow: "visible",
          }}
        >
          <g
            style={{
              transformOrigin: "189.5px 163px", // center of viewBox (379/2, 326/2)
              animation: `ringSpin ${speedMs}ms linear infinite`,
            }}
          >
            {/* the ring arms */}
            <path
              fill="currentColor"
              d="M1993 3250 c-281 -3 -513 -7 -516 -10 -2 -3 12 -32 31 -64 l35 -59
621 7 621 8 428 -741 428 -741 -238 -402 -238 -402 -71 0 c-131 -2 -234 -79
-270 -203 -38 -132 22 -259 156 -329 48 -25 172 -25 220 0 95 49 154 128 165
221 10 79 -11 143 -76 236 -9 12 37 97 244 447 l256 432 -466 805 -465 805
-177 -2 c-97 -1 -406 -5 -688 -8z m1184 -2558 c126 -89 45 -290 -108 -269
-142 19 -175 215 -47 281 43 22 116 16 155 -12z"
              transform="translate(0,326) scale(0.1,-0.1)"
            />
            <path
              fill="currentColor"
              d="M575 2872 c-68 -24 -112 -56 -146 -110 -63 -99 -61 -213 6 -312 l34
-50 -234 -395 -233 -395 465 -805 465 -805 556 5 c307 3 653 8 770 11 l212 6
-32 60 -33 61 -700 -7 -700 -7 -428 740 -428 741 215 362 214 362 79 1 c117 2
194 47 248 147 25 45 29 64 30 128 0 65 -4 82 -31 130 -37 66 -96 114 -166
135 -66 19 -101 19 -163 -3z m172 -140 c126 -89 45 -290 -108 -269 -142 19
-175 215 -47 281 43 22 116 16 155 -12z"
              transform="translate(0,326) scale(0.1,-0.1)"
            />
          </g>

          {/* inner text logo */}
          <g transform="translate(0,326) scale(0.1,-0.1)" fill="currentColor">
            <path
              d="M2457 2482 c-15 -17 -17 -61 -17 -434 0 -374 2 -417 17 -429 10 -9
49 -15 105 -17 l88 -4 0 -298 c0 -251 2 -299 15 -310 13 -11 12 -15 -5 -37
-11 -14 -20 -34 -20 -45 0 -27 45 -68 75 -68 55 0 87 78 47 118 -18 18 -18 19
0 42 17 21 18 47 18 355 0 403 8 378 -124 384 l-86 3 0 357 c0 307 -2 360 -16
379 -19 28 -74 30 -97 4z"
            />
            <path
              d="M1278 2473 c-8 -10 -144 -366 -302 -791 -251 -675 -285 -775 -275
-795 7 -12 17 -25 23 -29 18 -12 73 -9 84 4 8 10 452 1193 517 1378 12 34 14
28 128 -321 71 -215 124 -362 135 -372 10 -9 30 -17 45 -17 33 0 70 45 61 74
-42 148 -280 855 -292 869 -10 11 -30 17 -62 17 -32 0 -52 -5 -62 -17z"
            />
            <path
              d="M1547 2358 c-56 -20 -57 -16 112 -533 76 -235 91 -272 114 -285 35
-19 78 -4 91 32 8 23 -11 89 -112 396 -67 204 -128 374 -135 379 -22 17 -41
20 -70 11z"
            />
            <path
              d="M2667 2312 c-15 -16 -17 -48 -17 -245 0 -192 2 -228 16 -241 22 -22
70 -20 94 4 19 19 20 33 20 240 0 207 -1 221 -20 240 -25 25 -72 26 -93 2z"
            />
            <path
              d="M1297 2018 c-20 -18 -59 -125 -187 -503 -139 -412 -160 -484 -152
-507 8 -21 7 -28 -2 -28 -34 0 -60 -73 -38 -106 10 -15 47 -34 66 -34 43 0 75
87 44 118 -9 9 -9 12 3 12 9 0 23 8 31 18 18 20 338 954 338 986 0 55 -61 82
-103 44z"
            />
            <path
              d="M2480 1523 c-38 -14 -40 -29 -40 -338 0 -336 1 -339 63 -339 69 0 67
-9 67 339 0 239 -3 315 -13 323 -16 14 -58 22 -77 15z"
            />
            <path
              d="M1280 1480 c-24 -24 -26 -57 -4 -88 15 -22 18 -22 277 -22 l262 0 89
-242 c49 -134 95 -251 104 -260 33 -39 112 -11 112 38 0 34 -200 568 -217 582
-13 9 -91 12 -310 12 -280 0 -294 -1 -313 -20z"
            />
            <path
              d="M1223 1285 c-29 -20 -31 -75 -5 -98 16 -15 49 -17 249 -17 l231 0 27
-82 c15 -46 35 -91 43 -101 23 -25 70 -18 94 14 20 26 20 26 -17 141 -20 64
-42 124 -50 134 -12 18 -33 19 -282 22 -232 2 -271 1 -290 -13z"
            />
          </g>
        </svg>

        <style>{`
        @keyframes ringSpin {
          from { transform: rotate(0deg); }
          to   { transform: rotate(360deg); }
        }
      `}</style>
      </div>
      {text != null && (
        <div
          className="pt-2"
          style={{
            zIndex: 1,
            fontSize: Math.max(12, Math.round(size * 0.14)),
            fontWeight: 600,
            lineHeight: 1,
            userSelect: "none",
          }}
        >
          <i>{text}</i>
        </div>
      )}
    </div>
  );
}
